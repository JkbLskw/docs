---
title: Backend
description: How to setup and write back-end tests in Java.
order: 20
---

// tag::content[]
= Testing the Backend of a Hilla Application

For writing unit tests in Java, a few tools are recommended. For writing, asserting and running tests, use https://junit.org/junit5[JUnit v5]. https://site.mockito.org[`Mockito`] is useful for creating spies and mocks. And for collecting code coverage, use https://www.eclemma.org/jacoco[`Jacoco`].


== Preparation

To prepare to set up and write back-end tests, first add the following dependencies to the configuration file:

[.example]
--
[source,xml]
----
<source-info group="Maven"></source-info>
include::{root}/src/main/resources/hilla/testing/backend/pom.xml[tags=snippet,indent=0]
----

[source,groovy]
----
<source-info group="Gradle"></source-info>
Not supported yet.
----
--

To be able to mock final classes, run the following commands from your project's root directory:

[.example]
--
.Terminal
[source,bash]
----
<source-info group="Unix"></source-info>
mkdir -p src/test/resources/mockito-extensions/ && echo "mock-maker-inline" > $_/org.mockito.plugins.MockMaker
----

.Terminal
[source,bash]
----
<source-info group="Windows"></source-info>
mkdir src\test\resources\mockito-extensions; echo "mock-maker-inline" > src\test\resources\mockito-extensions\org.mockito.plugins.MockMaker
----
--


== Test Suites

Consider a class `Foo`.

.`src/java/com/example/Foo.java`
[source,java]
----
include::{root}/src/main/java/com/vaadin/demo/hilla/testing/Foo.java[tags=snippet,indent=0]
----

To add the first test, create a file in the appropriate directory like this:

[.example]
--
.Terminal
[source,bash]
----
<source-info group="Unix"></source-info>
mkdir -p src/test/com/example && touch $_/FooTest.java
----

.Terminal
[source,bash]
----
<source-info group="Windows"></source-info>
mkdir src\test\com\example; echo nul > src\test\com\example\FooTest.java
----
--

Now you can add some tests for the `Foo` class like so:

.`src/test/com/example/FooTest.java`
[source,java]
----
include::{root}/src/main/java/com/vaadin/demo/hilla/testing/FooTest.java[tags=snippet,indent=0]
----

// end::content[]
