---
title: Backend
description: How to setup and write backend tests.
order: 20
---

// tag::content[]
= Backend

There are a few tools that are recommended for writing unit tests in Java. For writing, asserting and running tests, use https://junit.org/junit5[JUnit v5]. https://site.mockito.org[Mockito] is useful for creating spies and mocks. And for collecting code coverage, use https://www.eclemma.org/jacoco[Jacoco].


== Preparation

To prepare to setup and write backend tests, first add the following dependencies to the configuration file:

[.example]
--
.Maven
[source,xml]
----
include::{root}/src/main/resources/hilla/testing/backend/pom.xml[tags=snippet,indent=0]
----

[source,Gradle]
----
Not supported yet.
----
--

To be able to mock final classes, run the following commands from your project's root directory:

[.example]
--
[source,Unix]
----
mkdir -p src/test/resources/mockito-extensions/ && echo "mock-maker-inline" > $_/org.mockito.plugins.MockMaker
----

[source,Windows]
----
mkdir src\test\resources\mockito-extensions; echo "mock-maker-inline" > src\test\resources\mockito-extensions\org.mockito.plugins.MockMaker
----
--


== Test suites

Consider a class `Foo` in the file `src/java/com/example/Foo.java`.

.Foo.java
[source,java]
----
include::{root}/src/main/java/com/vaadin/demo/hilla/testing/Foo.java[tags=snippet,indent=0]
----

To add the first test, create a file in the appropriate directory like this:

[.example]
--
[source,Unix]
----
mkdir -p src/test/com/example && touch $_/FooTest.java
----

[source,Windows]
----
mkdir src\test\com\example; echo nul > src\test\com\example\FooTest.java
----
--

Now you can add some tests for the `Foo` class like so:

.FooTests.java
[source,java]
----
include::{root}/src/test/java/com/vaadin/demo/hilla/testing/FooTest.java[tags=snippet,indent=0]
----

// end::content[]
