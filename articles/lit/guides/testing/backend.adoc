---
title: Backend
description: How to setup and write backend tests.
order: 20
---

// tag::content[]
= Backend

For writing unit tests in Java, the following tools are recommended:

* https://junit.org/junit5[JUnit v5] for writing, asserting and running tests.
* https://site.mockito.org[Mockito] for creating spies and mocks.
* https://www.eclemma.org/jacoco[Jacoco] for collecting code coverage.

== Preparations

Add the following dependencies to the configuration file.

[.example]
--
.Maven
[source,xml]
----
include::{root}/src/main/resources/hilla/testing/backend/pom.xml[tags=snippet,indent=0]
----

[source,Gradle]
----
Not supported yet.
----
--

To be able to mock final classes, run following commands (assuming you are in your project's root directory):

[.example]
--
[source,Unix]
----
mkdir -p src/test/resources/mockito-extensions/ && echo "mock-maker-inline" > $_/org.mockito.plugins.MockMaker
----

[source,Windows]
----
mkdir src\test\resources\mockito-extensions; echo "mock-maker-inline" > src\test\resources\mockito-extensions\org.mockito.plugins.MockMaker
----
--

== Test suites

Consider a class `Foo` in the file `src/java/com/example/Foo.java`.

.Foo.java
[source,java]
----
include::{root}/src/main/java/com/vaadin/demo/hilla/testing/Foo.java[tags=snippet,indent=0]
----

To add the first test, create a file in the appropriate directory.

[.example]
--
[source,Unix]
----
mkdir -p src/test/com/example && touch $_/FooTest.java
----

[source,Windows]
----
mkdir src\test\com\example; echo nul > src\test\com\example\FooTest.java
----
--

Now you can add some tests for the `Foo` class.

.FooTests.java
[source,java]
----
include::{root}/src/test/java/com/vaadin/demo/hilla/testing/FooTest.java[tags=snippet,indent=0]
----

// end::content[]
